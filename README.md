# Демо-код

## Задача

Без использования фреймворков, создать REST API
с 4 методами:

 - Генерирует 20 случайнных товаров;
 - Получить список товаров;
 - Создаёт заказ;
 - Оплачивает заказ.

У Товаров есть: название, цена.
У Заказов есть: список товаров, статус(новый, оплачен)


## Решение

## Ссылки на 4 реализованных метода:

- создание тестовых товаров: [goods/create-test-pack](http://8ffd246e-5d74-49a5-8696-e92eff606a60.pub.cloud.scaleway.com/goods/create-test-pack)
- вывести товары: [goods/list-all/1](http://8ffd246e-5d74-49a5-8696-e92eff606a60.pub.cloud.scaleway.com/goods/list-all/1)
- создать заказ:  [orders/create?ids=1,2,3](http://8ffd246e-5d74-49a5-8696-e92eff606a60.pub.cloud.scaleway.com/orders/create?ids=1,2,3)
- оплатить заказ: [orders/pay/1/123.45](http://8ffd246e-5d74-49a5-8696-e92eff606a60.pub.cloud.scaleway.com/orders/pay/1/123.45)


## Описание:

Простой фреймворк с применением шаблонов:
MVC, Singleton, Repository, Entity, Controller, Dependency Injection, Router.

Lifecycle:
- точка входа public/index.php;
- подключается автозагрузчик от композера;
- определяется функцию config(), предоставляющая доступ к конфигурационному файлу config.php;
- определяется функцию app(), предоставляющая доступ к компонентам, например app()->get('compnentName');
- загружается компоненты указанные в config.php ['components'];
- выполняется обработка запроса согласно роутингу.


Что нужно было бы сделать, если это не тестовое задание:
- использовать валидатор, факт: проверяем нативно;
- использовать какой нибудь пакет для работы с конфигурацией, факт: простая функция config();
- профилирование запросов, факт: при создании заказа одна позиция - один запрос;
- кэшировать или хранить в БД цену заказа, факт: цена заказа считается каждый раз заново;
- некоторые апи методы сделать POST, т.к GET ограничен ~2048 символами, и это не соответствует HTTP протоколу;
